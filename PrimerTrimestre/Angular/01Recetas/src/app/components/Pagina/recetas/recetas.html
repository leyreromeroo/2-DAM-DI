<div class="container mt-3 mb-5 pt-5 ">
  <div class="row mt-4 justify-content-center">
    <div class="col-12 col-md-11">
      <div class="d-flex gap-2 align-items-center bg-white p-2 rounded shadow-sm border">
        <div class="input-group input-group-sm flex-grow-1">
          <span class="input-group-text bg-transparent border-0"><i class="fa-solid fa-magnifying-glass"></i></span>
          <input type="text" class="form-control border-0" placeholder="Buscar..." (input)="onFiltrarTexto($event)">
        </div>

        <input type="number" class="form-control form-control-sm" style="width: 100px;" placeholder="MinCal"
          (input)="onFiltrarMinCal($event)">
        <input type="number" class="form-control form-control-sm" style="width: 100px;" placeholder="MaxCal"
          (input)="onFiltrarMaxCal($event)">

        <select class="form-select form-select-sm" style="width: 150px;" (change)="onFiltrarRating($event)">
          <option value="0">⭐⭐⭐⭐⭐</option>
          <option value="1">1+ ★</option>
          <option value="2">2+ ★</option>
          <option value="3">3+ ★</option>
          <option value="4">4+ ★</option>
          <option value="5">5 ★</option>
        </select>

        <button class="btn btn-sm btn-outline-dark text-nowrap" data-bs-toggle="modal"
          data-bs-target="#crearRecetaModal">
          + Add Recipe
        </button>
      </div>
    </div>
  </div>

  <div class="row g-4 flex-grow-1 align-items-stretch mt-2">
    @for (receta of recetasFiltradas; track receta.id)
    {
    <div class="col-12 col-sm-6 col-lg-3">
      <app-receta [recetaModel]="receta">
      </app-receta>
    </div>
    }

    @if (recetasFiltradas.length === 0) {
    <div class="col-12 text-center mt-5">
      <div class="alert alert-light shadow-sm" role="alert">
        <i class="fa-regular fa-face-sad-tear fa-2x mb-2 d-block text-muted"></i>
        ¡Vaya! No hay recetas que coincidan con tu búsqueda.
      </div>
    </div>
    }
  </div>
</div>

<app-nueva-receta (recetaCreada)="agregarNuevaReceta($event)"></app-nueva-receta>